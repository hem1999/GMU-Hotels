<div class="w-[75%]">
    <h1 class="text-center text-3xl">{{ currentRoom()?.roomName }}</h1>
</div>
<div class="mx-[3%]">
    <div class="flex justify-start">
        <!-- Image and Room Location horizontally aligned -->
         <div class="rounded border-2 border-white w-[70%]">
            <img src="{{currentRoom()?.mainImgSrc}}" alt="{{ currentRoom()?.roomName }}'s image" class="rounded">
         </div>
         <div class="rounded border-2 border-white ml-4 w-[25%]">
            <div class="p-2">
                <div class="flex justify-start">
                    <p class="mt-2 text-gray-700">Price Per Night:</p>
                    <p class="text-3xl ml-5">${{ currentRoom()?.pricePerNight}}</p>
                </div>
                <div class="border-2 border-b-black mb-3"></div>
                <p><span class="text-gray-700">roomType:</span> <span>{{currentRoom()?.roomType}}</span></p>
                <p><span class="text-gray-700">roomCapacity:</span> <span>{{currentRoom()?.roomCapacity}}</span></p>
                <div class="border-2 border-b-black mb-3"></div>
                <p class="text-xl">Contact Info: </p>
                <div class="border-2 border-b-slate-400"></div>
                <p><span class="text-gray-700">Address:</span> <span class="ml-2">{{currentRoom()?.roomAddress}}</span></p>
                <p><span class="text-gray-700">City:</span> <span class="ml-2">{{currentRoom()?.roomCity}}</span></p>
                <p><span class="text-gray-700">State:</span> <span class="ml-2">{{currentRoom()?.roomState}}</span></p>
                <p><span class="text-gray-700">Zipcode:</span> <span class="ml-2">{{currentRoom()?.roomZip}}</span></p>
                <p><span class="text-gray-700">Country:</span> <span class="ml-2">{{currentRoom()?.roomCountry}}</span></p>
                <p><span class="text-gray-700">Phone:</span> <span class="ml-2">{{currentRoom()?.roomPhone}}</span></p>
                <div class="border-2 border-b-black my-4"></div>

                <form [formGroup]="availabilityForm" (ngSubmit)="onCheckAvailabilitySubmit()">
                    <div>
                        <label>StartDate: </label>
                        <input type="date" class="sim-input" formControlName="startDate">
                    </div>
                    <div>
                        <label>EndDate: </label>
                        <input type="date" class="sim-input" formControlName="endDate">
                    </div>
                    <button type="submit" class="blue-btn ml-[25%] w-[45%]">Add to Cart</button>
                </form>



            </div>
         </div>
    </div>
    <div class="mt-2 w-[85%] border-2 shadow-lg rounded-lg border-white p-2">
        <p>roomDescription: <span>{{ currentRoom()?.roomDescription}}</span></p>
    </div>
    <div class="mt-2 w-[85%] border-2 border-white mb-2 shadow-lg rounded-lg ">
        <!-- All feedbacks  and let user input the feedback. -->
            <h1 class="text-3xl text-center ">Ratings</h1>
            <div class="flex">
                <textarea name="feedback" id="" class="sim-input w-[80%] h-[70px] rounded-xl text-xl" [formControl]="feedbackInput"></textarea>
                <div class="flex flex-col justify-end">
                    <div class="flex flex-row-reverse ml-2">
                        <i class="bg-white w-[30px] h-[30px] border-2 border-slate-400 rounded-lg ml-1 pb-3 pl-2 peer hover:bg-yellow-200 peer-hover:bg-yellow-200" (click)="givenRating(5)">5</i>
                        <i class="bg-white w-[30px] h-[30px] border-2 border-slate-400 rounded-lg ml-1 pb-3 pl-2 peer hover:bg-yellow-200 peer-hover:bg-yellow-200" (click)="givenRating(4)">4</i>
                        <i class="bg-white w-[30px] h-[30px] border-2 border-slate-400 rounded-lg ml-1 pb-3 pl-2 peer hover:bg-yellow-200 peer-hover:bg-yellow-200" (click)="givenRating(3)">3</i>
                        <i class="bg-white w-[30px] h-[30px] border-2 border-slate-400 rounded-lg ml-1 pb-3 pl-2 peer hover:bg-yellow-200 peer-hover:bg-yellow-200" (click)="givenRating(2)">2</i>
                        <i class="bg-white w-[30px] h-[30px] border-2 border-slate-400 rounded-lg ml-1 pb-3 pl-2 peer hover:bg-yellow-200 peer-hover:bg-yellow-200" (click)="givenRating(1)">1</i>
                    </div>
                    <button (click)="onSubmitFeedback()" class="blue-btn mb-4"><span>Submit</span></button>
                </div>
            </div>
            <div class="border-b-white border-4"></div>
            <div>
                @for(f of currentRoomFeedbacks(); track $index){
                    <div class="bg-white m-2 rounded-lg flex justify-between">
                        <p class="p-2 text-2xl">{{f.feedback}}</p>
                        <div class="flex flex-col-reverse justify-end">
                            <div class="m-2">
                                <p class="text-xs text-slate-400">{{f.username}}</p>
                                <p class="text-xs text-slate-400">{{ f.feedbackDate}}</p>
                            </div>
                        </div>
                    </div>
                }
            </div>
    </div>
</div>
